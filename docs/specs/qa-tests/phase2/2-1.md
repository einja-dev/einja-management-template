# QAテスト フェーズ2-1: プラン一覧表示機能

## テスト対象タスク
- タスクID: 2.1.1～2.1.3
- タスク名: サブスクリプションプラン一覧表示
- 実装日: （未実装）

## 1. タスク 2.1.2: プラン一覧表示コンポーネント

### 受け入れ条件
1. プラン一覧が表形式で表示される
2. プラン名、価格、請求頻度、作成日が表示される
3. プランがない場合は空状態メッセージが表示される
4. 新規作成ボタンが表示される

### テストシナリオ・実施結果（プランが存在する場合）
**最終更新: YYYY-MM-DD**

| No | URL | 操作対象 | 操作セレクタ | 操作種別 | 期待値 | 結果 | 備考 |
|----|-----|---------|------------|---------|--------|------|------|
| 1 | http://localhost:3000/subscriptions | - | - | navigate | サブスクリプション管理画面が表示される | - | 未実施 |
| 2 | - | プラン一覧テーブル | [data-testid="subscription-plans-table"] | evaluate | テーブルが存在する | - | 未実施 |
| 3 | - | テーブルヘッダー | [data-testid="table-header-name"] | evaluate | 「プラン名」列が存在 | - | 未実施 |
| 4 | - | テーブルヘッダー | [data-testid="table-header-price"] | evaluate | 「価格」列が存在 | - | 未実施 |
| 5 | - | テーブルヘッダー | [data-testid="table-header-frequency"] | evaluate | 「請求頻度」列が存在 | - | 未実施 |
| 6 | - | テーブルヘッダー | [data-testid="table-header-created"] | evaluate | 「作成日」列が存在 | - | 未実施 |
| 7 | - | プラン行 | [data-testid="plan-row-1"] | evaluate | 1件以上のプランが表示される | - | 未実施 |
| 8 | - | 新規作成ボタン | [data-testid="create-plan-button"] | evaluate | 「新規プラン作成」ボタンが存在 | - | 未実施 |
| 9 | - | 新規作成ボタン | [data-testid="create-plan-button"] | click | クリック可能 | - | 未実施 |
| 10 | http://localhost:3000/subscriptions/new | 作成フォーム | [data-testid="plan-create-form"] | evaluate | プラン作成フォームが表示される | - | 未実施 |

### テストシナリオ・実施結果（空状態）
**最終更新: YYYY-MM-DD**

| No | URL | 操作対象 | 操作セレクタ | 操作種別 | 期待値 | 結果 | 備考 |
|----|-----|---------|------------|---------|--------|------|------|
| 1 | http://localhost:3000/subscriptions | - | - | navigate | サブスクリプション管理画面が表示される | - | 未実施 |
| 2 | - | 空状態メッセージ | [data-testid="empty-state-message"] | evaluate | 「プランがまだ作成されていません」が表示 | - | 未実施 |
| 3 | - | 空状態アイコン | [data-testid="empty-state-icon"] | evaluate | 空状態を示すアイコンが表示 | - | 未実施 |
| 4 | - | 作成促進ボタン | [data-testid="empty-state-create-button"] | evaluate | 「最初のプランを作成」ボタンが存在 | - | 未実施 |
| 5 | - | 作成促進ボタン | [data-testid="empty-state-create-button"] | click | クリック可能 | - | 未実施 |
| 6 | http://localhost:3000/subscriptions/new | 作成フォーム | [data-testid="plan-create-form"] | evaluate | プラン作成フォームが表示される | - | 未実施 |

### 全体ステータス: （未実施）

#### エビデンス
- スクリーンショット: （未取得）
- ログファイル: （未取得）

---

## 2. タスク 2.1.1: プラン一覧取得API

### 受け入れ条件
1. GET /api/rpc/subscription-plans エンドポイントが正常に動作する
2. ページネーションが機能する
3. 適切なエラーハンドリングがされている

### テストシナリオ（APIテスト）

| No | エンドポイント | メソッド | ヘッダー | ボディ | 期待値 |
|----|-------------|---------|---------|--------|--------|
| 1 | /api/rpc/subscription-plans | GET | Authorization: Bearer {token} | - | ステータス200、プラン一覧のJSON配列 |
| 2 | /api/rpc/subscription-plans?page=1&limit=10 | GET | Authorization: Bearer {token} | - | ステータス200、最大10件のプラン |
| 3 | /api/rpc/subscription-plans?page=999 | GET | Authorization: Bearer {token} | - | ステータス200、空配列 |
| 4 | /api/rpc/subscription-plans | GET | - | - | ステータス401、認証エラー |
| 5 | /api/rpc/subscription-plans?limit=invalid | GET | Authorization: Bearer {token} | - | ステータス400、バリデーションエラー |

### 実施結果（最終更新: YYYY-MM-DD）
**ステータス: （未実施）**

#### 実行内容
（未実施）

#### エビデンス
- APIレスポンス: （未取得）
- ログファイル: （未取得）

---

## 統合テスト結果サマリー

### フェーズ2-1全体結果
- **全体ステータス**: （未実施）
- **完了タスク**: 0/3
- **テスト合格率**: -
- **検出問題**: -

### 次フェーズへの引き継ぎ事項
（未実施）

### 改善提案
（未実施）